<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="A high performance JavaScript danmaku engine">
  <meta name="author" content="weizhenye">
  <title>Danmaku - A high-performance JavaScript danmaku engine</title>
  <link rel="stylesheet" href="style.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34447075-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-34447075-3');
  </script>
</head>
<body>
<header class="header">
  <h1 class="header__title">Danmaku</h1>
  <h2 class="header__subtitle">A high-performance JavaScript danmaku engine</h2>
  <a href="https://github.com/weizhenye/Danmaku" target="_blank" class="header__badge">
    <img src="https://badgen.net/github/stars/weizhenye/Danmaku?icon=github&scale=1.2" alt="GitHub">
  </a>
  <a href="https://www.npmjs.com/package/danmaku" target="_blank" class="header__badge">
    <img src="https://badgen.net/npm/v/danmaku?icon=npm&scale=1.2" alt="version">
  </a>
</header>
<main class="main">
  <section class="config">
    <fieldset class="config__mode">
      <legend>Mode</legend>
      <label>
        <input type="radio" name="mode" autocomplete="off" data-mode="video" checked>
        Media (Video)
      </label>
      <label>
        <input type="radio" name="mode" autocomplete="off" data-mode="audio">
        Media (Audio)
      </label>
      <label>
        <input type="radio" name="mode" autocomplete="off" data-mode="live">
        Live
      </label>
    </fieldset>
    <fieldset class="config__engine">
      <legend>Engine</legend>
      <label>
        <input type="radio" name="engine" autocomplete="off" data-engine="dom" checked>
        DOM
      </label>
      <label>
        <input type="radio" name="engine" autocomplete="off" data-engine="canvas">
        canvas
      </label>
    </fieldset>
    <br>
    <fieldset disabled class="config__control">
      <legend>Control</legend>
      <button data-fn="resize">Resize</button>
      <button data-fn="show">Show</button>
      <button data-fn="hide">Hide</button>
      <button data-fn="clear">Clear</button>
      <button data-fn="destroy">Destroy</button>
    </fieldset>
    <fieldset disabled class="config__speed">
      <legend>Speed</legend>
      <input type="range" min="96" max="192" autocomplete="off">
      <output>144</output>
    </fieldset>
    <fieldset disabled class="config__emit">
      <legend>Emit</legend>
      <input type="text" placeholder="bla bla" autocomplete="off">
      <button>Emit</button>
    </fieldset>
  </section>
  <section data-mode="video" data-size="360P" class="player">
    <div data-canplay="false" data-initialized="false" class="player__video">
      <div class="player__media-init">
        <div>Drop video here</div>
        <div class="or">or</div>
        <input type="file">
        <div class="or">or</div>
        <button>Load sample video</button>
      </div>
      <div class="player__container">
        <video controls></video>
      </div>
    </div>
    <div data-canplay="false" data-initialized="false" class="player__audio">
      <div class="player__media-init">
        <div>Drop audio here</div>
        <div class="or">or</div>
        <input type="file">
        <div class="or">or</div>
        <button>Load sample audio</button>
      </div>
      <div class="player__container">
        <canvas width="1280" height="720"></canvas>
        <audio controls crossorigin="anonymous"></audio>
      </div>
    </div>
    <div data-initialized="false" class="player__live">
      <div class="player__live-tip">You can open this page with another browser to test.</div>
      <div class="player__container"></div>
    </div>
    <div class="player__danmaku-manager">
      <div class="manager__tip">You can load <a href="https://www.bilibili.com/" target="_blank">Bilibili</a> danmaku for test.</div>
      <div class="manager__download">
        <input type="text" placeholder="https://www.bilibili.com/video/BV1WW411e7D5">
        <button>Download</button>
      </div>
      <div class="manager__tabs">
        <div class="manager__tab">
          <input id="manager__files" type="radio" name="manager__tab" checked>
          <label for="manager__files">Danmaku Files</label>
          <ul class="manager__list"></ul>
        </div>
        <div class="manager__tab">
          <input id="manager__comments" type="radio" name="manager__tab">
          <label for="manager__comments">Comments list</label>
          <ul class="manager__list"></ul>
        </div>
      </div>
    </div>
  </section>
</main>
<footer class="footer">
  Built by <a href="https://github.com/weizhenye">Zhenye Wei</a> | MIT Licensed
</footer>
<template id="danamku-file">
  <li class="danmaku-file">
    <div class="title"></div>
    <div class="buttons">
      <button data-fn="initialize">Initialize</button>
      <button data-fn="reload">Reload</button>
      <button data-fn="delete">Delete</button>
    </div>
  </li>
</template>
<template id="danmaku-comment">
  <li class="danmaku-comment">
    <time class="time"></time>
    <span class="text"></span>
  </li>
</template>
<button id="perf">Open Performance Monitor</button>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@2.3.0/dist/socket.io.js"></script>
<script src="https://cdn.jsdelivr.net/npm/danmaku/dist/danmaku.js"></script>
<script>
window.$ = document.querySelector.bind(document);
</script>
<script type="module" src="./src/index.js"></script>
</body>
</html>
